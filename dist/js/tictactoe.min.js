function blockSelected(e){if(""===e.innerHTML.trim()&&!gameOver){xGoes?e.appendChild(getX()):e.appendChild(getO());var t=parseInt(e.dataset.row),d=parseInt(e.dataset.col);board[t][d]=xGoes?"x":"o",printBoard(),isWinner(xGoes?"x":"o",t,d),xGoes=!xGoes}}function resetBoardView(){var e=document.getElementsByClassName("block");Array.prototype.forEach.call(e,function(e,t){e.innerHTML="",e.className="block"})}function resetBoardModel(){board=[[" "," "," "],[" "," "," "],[" "," "," "]],xGoes=!0,gameOver=!1}function getX(){var e=document.createElement("div");return e.className="marker x",e.innerHTML='<div class="left"></div><div class="right"></div>',e}function getO(){var e=document.createElement("div");return e.className="marker o",e.innerHTML='<div class="circle"></div>',e}function printBoard(){for(var e=0;e<board.length;e++)console.log("["+board[e][0]+"] ["+board[e][1]+"] ["+board[e][2]+"]")}function isWinner(e,t,d){var n=null,o=null,m=null;switch(t){case 0:switch(d){case 0:board[0][1]==e&&board[0][2]==e?(n=document.getElementById("00"),o=document.getElementById("01"),m=document.getElementById("02")):board[1][1]==e&&board[2][2]==e?(n=document.getElementById("00"),o=document.getElementById("11"),m=document.getElementById("22")):board[1][0]==e&&board[2][0]==e&&(n=document.getElementById("00"),o=document.getElementById("10"),m=document.getElementById("20"));break;case 1:board[0][0]==e&&board[0][2]==e?(n=document.getElementById("00"),o=document.getElementById("01"),m=document.getElementById("02")):board[1][1]==e&&board[2][1]==e&&(n=document.getElementById("00"),o=document.getElementById("11"),m=document.getElementById("22"));break;case 2:board[0][0]==e&&board[0][1]==e?(n=document.getElementById("00"),o=document.getElementById("01"),m=document.getElementById("02")):board[2][0]==e&&board[1][1]==e?(n=document.getElementById("02"),o=document.getElementById("11"),m=document.getElementById("20")):board[2][2]==e&&board[1][2]==e&&(n=document.getElementById("02"),o=document.getElementById("12"),m=document.getElementById("22"))}break;case 1:switch(d){case 0:board[0][0]==e&&board[2][0]==e?(n=document.getElementById("10"),o=document.getElementById("00"),m=document.getElementById("20")):board[1][1]==e&&board[1][2]==e&&(n=document.getElementById("10"),o=document.getElementById("11"),m=document.getElementById("12"));break;case 1:board[0][0]==e&&board[2][2]==e?(n=document.getElementById("11"),o=document.getElementById("00"),m=document.getElementById("22")):board[0][1]==e&&board[2][1]==e?(n=document.getElementById("11"),o=document.getElementById("01"),m=document.getElementById("21")):board[0][2]==e&&board[2][0]==e?(n=document.getElementById("11"),o=document.getElementById("02"),m=document.getElementById("20")):board[1][0]==e&&board[1][2]==e&&(n=document.getElementById("11"),o=document.getElementById("10"),m=document.getElementById("12"));break;case 2:board[0][2]==e&&board[2][2]==e?(n=document.getElementById("12"),o=document.getElementById("02"),m=document.getElementById("22")):board[1][0]==e&&board[1][1]==e&&(n=document.getElementById("12"),o=document.getElementById("10"),m=document.getElementById("11"))}break;case 2:switch(d){case 0:board[0][0]==e&&board[1][0]==e?(n=document.getElementById("20"),o=document.getElementById("00"),m=document.getElementById("10")):board[1][1]==e&&board[0][2]==e?(n=document.getElementById("20"),o=document.getElementById("11"),m=document.getElementById("02")):board[2][1]==e&&board[2][2]==e&&(n=document.getElementById("20"),o=document.getElementById("21"),m=document.getElementById("22"));break;case 1:board[2][0]==e&&board[2][2]==e?(n=document.getElementById("21"),o=document.getElementById("20"),m=document.getElementById("22")):board[0][1]==e&&board[1][1]==e&&(n=document.getElementById("21"),o=document.getElementById("01"),m=document.getElementById("11"));break;case 2:board[0][0]==e&&board[1][1]==e?(n=document.getElementById("22"),o=document.getElementById("00"),m=document.getElementById("11")):board[2][0]==e&&board[2][1]==e?(n=document.getElementById("22"),o=document.getElementById("20"),m=document.getElementById("21")):board[0][2]==e&&board[1][2]==e&&(n=document.getElementById("22"),o=document.getElementById("02"),m=document.getElementById("12"))}}null!==n&&null!==o&&null!==m&&(n.className+=" winner",o.className+=" winner",m.className+=" winner",gameOver=!0)}var xGoes=null,board=null,gameOver=!1;resetBoardModel();